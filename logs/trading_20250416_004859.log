2025-04-16 00:48:59,970 - trading_system - INFO - Starting trading system...
2025-04-16 00:48:59,987 - trading_system - INFO - Trading System Initializing: Mode=Live, Dry Run=False, Initial Capital=0.7015
2025-04-16 00:48:59,987 - trading_system - INFO - Strategy Parameters: {'tracked_wallets': ['gzvseaajexljevachhqcujbw7njq98gwueztood9lm9b', 'ekey4tnuhqr2wwkhj1wfebgozvkntcau3enhyqo5udxz'], 'min_trade_amount': 0.1, 'max_time_in_trade': 30, 'take_profit_pct': 0.07}
2025-04-16 00:48:59,987 - trading_system - INFO - Risk Parameters: {'max_position_size': 0.02, 'stop_loss_pct': 0.02, 'max_positions': 5, 'max_hold_time_minutes': 5, 'max_daily_loss_pct': 0.5}
2025-04-16 00:48:59,987 - trading_system - INFO - Backtest Mode: False Dry Run: False
2025-04-16 00:48:59,987 - trading_system - CRITICAL - Trading System Starting
2025-04-16 00:48:59,987 - trading_system - INFO - Attempting to connect to WebSocket at wss://mainnet.helius-rpc.com/?api-key=cd782283-4629-4f2e-9966-12e10b7134b9
2025-04-16 00:49:00,414 - trading_system - INFO - Subscription message sent successfully
2025-04-16 00:49:38,015 - trading_system - INFO - Checking entry conditions for ekey4tnuhqr2wwkhj1wfebgozvkntcau3enhyqo5udxz: Mint=69QCijngBrep1oxmHPPNnjJGdHRYqjGLv1kunFxPpump, price=3.522708082106263873484149709E-8, signature=2NFxWodBU87ExeAjSsxMoRxVeDNZeZfJA8XLB5zQygZzoKoQks6CeirMQ2xCjp8GYg1GjqyjHYURbCnse3UcbShP, sol_amount=3.436241611, token_amount=97545454.545454
2025-04-16 00:49:38,015 - trading_system - INFO - Building buy transaction
2025-04-16 00:49:38,019 - trading_system - INFO - Sending transaction
2025-04-16 00:49:38,435 - trading_system - INFO - Transaction sent successfully: 5BrWF2zD9QxTXg8L9Ee8p3Aszo4ns8edcgKsetPBRUhoGiHowbTHvWQWtbwJi1LZQhSqLTNH5ZQ7imx6USV9MQW
2025-04-16 00:49:38,435 - trading_system - INFO - Waiting for transaction to be processed
2025-04-16 00:49:39,890 - trading_system - INFO - Transaction confirmed successfully
2025-04-16 00:49:40,065 - trading_system - INFO - Successfully retrieved transaction details
2025-04-16 00:49:40,065 - trading_system - INFO - Entry Successful: Mint=69QCijngBrep1oxmHPPNnjJGdHRYqjGLv1kunFxPpump, Details={'tx_type': 'buy', 'execution_price': 3.903059018101534e-08, 'sol_trade_amount': 0.01883551, 'token_trade_amount': 482583.27411, 'total_sol_change': 0.021120646, 'pump_fee': 0.000188356, 'network_fee': 5.75e-05, 'token_account_fee': 0.00203928, 'token_account_refund': 0.0, 'total_fees': 0.002285136, 'tx_sig': '5BrWF2zD9QxTXg8L9Ee8p3Aszo4ns8edcgKsetPBRUhoGiHowbTHvWQWtbwJi1LZQhSqLTNH5ZQ7imx6USV9MQW', 'blocktime': 1744778979}
2025-04-16 00:49:40,065 - trading_system - INFO - Added position: 69QCijngBrep1oxmHPPNnjJGdHRYqjGLv1kunFxPpump, Position Size: 0.01883551, Token Amount: 482583.27411, Tx Fees: 0.002285136, current capital: 0.680379354
2025-04-16 00:49:40,073 - trading_system - INFO - Skipping our own transaction: 5BrWF2zD9QxTXg8L9Ee8p3Aszo4ns8edcgKsetPBRUhoGiHowbTHvWQWtbwJi1LZQhSqLTNH5ZQ7imx6USV9MQW
2025-04-16 00:49:40,074 - trading_system - INFO - Checking exit conditions for 69QCijngBrep1oxmHPPNnjJGdHRYqjGLv1kunFxPpump: price=3.905372656746386290136202376E-8,signature=3Hqa4xjWL4n4L6KkPch2Dbf4dwyKTDbXLayA5KvVKUxAM7PPyVL2JdsWaQ2SJpoNASybyotQLPq69pwH6zEivUsr, sol_amount=0.002156793, token_amount=55226.304621, blocktime=1744778979
2025-04-16 00:49:40,075 - trading_system - INFO - Skipping exit check for 69QCijngBrep1oxmHPPNnjJGdHRYqjGLv1kunFxPpump because it's before or at the entry blocktime
2025-04-16 00:49:44,530 - trading_system - INFO - Checking exit conditions for 69QCijngBrep1oxmHPPNnjJGdHRYqjGLv1kunFxPpump: price=3.948796150784853106408328962E-8,signature=5CwLcBrBbVjkXum1T2cxKKW8Fms8C73vCCHMQcPVgpEakgtGzeabxwq3faba7iYFSJb1P7GKEFZ2WwkbTdAxP6yd, sol_amount=0.392079207, token_amount=9929081.979126, blocktime=1744778983
2025-04-16 00:49:45,071 - trading_system - INFO - Checking exit conditions for 69QCijngBrep1oxmHPPNnjJGdHRYqjGLv1kunFxPpump: price=3.992215331318103041106245522E-8,signature=1zVgg8ngh2JNQDPkwJyws3itw3ummgm9Efi6z1Z1BszGDfutWnNt8Ldb29ddxr8omcZJBg1mcANJGyWKWXLSHMe, sol_amount=0.002204753, token_amount=55226.304621, blocktime=1744778983
2025-04-16 00:49:48,693 - trading_system - ERROR - WebSocket disconnected. Code: 1006, Last message: 2025-04-16 00:49:45.526315
2025-04-16 00:49:48,693 - trading_system - INFO - Attempting to connect to WebSocket at wss://mainnet.helius-rpc.com/?api-key=cd782283-4629-4f2e-9966-12e10b7134b9
2025-04-16 00:49:48,927 - trading_system - INFO - Subscription message sent successfully
2025-04-16 00:50:02,087 - trading_system - INFO - Checking exit conditions for 69QCijngBrep1oxmHPPNnjJGdHRYqjGLv1kunFxPpump: price=3.600821506616981924444584997E-8,signature=2JZ74asodquQJM8zqNxcTD5JPuBvyNXCgnPrZRKebkiwSVkm8cqn8zyTrcrNotyj3UUAAWDCDQhZqEvqyKYamGEc, sol_amount=3.512437706, token_amount=97545454.545454, blocktime=1744779001
2025-04-16 00:50:02,087 - trading_system - INFO - Building sell transaction with account closure
2025-04-16 00:50:02,088 - trading_system - ERROR - Error in sell_token: close_account() got an unexpected keyword argument 'token_account'
2025-04-16 00:50:02,088 - trading_system - ERROR - Error executing sell transaction for 69QCijngBrep1oxmHPPNnjJGdHRYqjGLv1kunFxPpump: close_account() got an unexpected keyword argument 'token_account'
2025-04-16 00:50:02,088 - trading_system - INFO - Checking exit conditions for 69QCijngBrep1oxmHPPNnjJGdHRYqjGLv1kunFxPpump: price=3.043010129356988525780120887E-8,signature=2JZ74asodquQJM8zqNxcTD5JPuBvyNXCgnPrZRKebkiwSVkm8cqn8zyTrcrNotyj3UUAAWDCDQhZqEvqyKYamGEc, sol_amount=2.040718668, token_amount=67062499.999999, blocktime=1744779001
2025-04-16 00:50:02,088 - trading_system - INFO - Building sell transaction with account closure
2025-04-16 00:50:02,089 - trading_system - ERROR - Error in sell_token: close_account() got an unexpected keyword argument 'token_account'
2025-04-16 00:50:02,089 - trading_system - ERROR - Error executing sell transaction for 69QCijngBrep1oxmHPPNnjJGdHRYqjGLv1kunFxPpump: close_account() got an unexpected keyword argument 'token_account'
2025-04-16 00:50:04,705 - trading_system - INFO - Checking exit conditions for 69QCijngBrep1oxmHPPNnjJGdHRYqjGLv1kunFxPpump: price=2.824565036219861067322576238E-8,signature=4myMEuS4RgPDE34fvPMWVPuAWKhAvzZkVrkouxAk6tCcH85MVuKpPd4ejurVba79N9KHgayvE6fWw29pW71C5iNq, sol_amount=0.280453378, token_amount=9929081.979126, blocktime=1744779003
2025-04-16 00:50:04,706 - trading_system - INFO - Building sell transaction with account closure
2025-04-16 00:50:04,706 - trading_system - ERROR - Error in sell_token: close_account() got an unexpected keyword argument 'token_account'
2025-04-16 00:50:04,707 - trading_system - ERROR - Error executing sell transaction for 69QCijngBrep1oxmHPPNnjJGdHRYqjGLv1kunFxPpump: close_account() got an unexpected keyword argument 'token_account'
2025-04-16 00:50:13,756 - trading_system - INFO - Received signal 2. Starting graceful shutdown...
2025-04-16 00:50:13,906 - trading_system - INFO - Graceful shutdown initiated
2025-04-16 00:50:13,906 - trading_system - INFO - Shutting down trading system...
2025-04-16 00:50:13,906 - trading_system - CRITICAL - Initiating trading system shutdown
2025-04-16 00:50:13,906 - trading_system - WARNING - Waiting for 1 positions to close naturally
2025-04-16 00:50:13,906 - trading_system - INFO - Still waiting on 1 positions to close...
2025-04-16 00:50:13,906 - trading_system - INFO - Open position: 69QCijngBrep1oxmHPPNnjJGdHRYqjGLv1kunFxPpump, Entry time: 1744778979
2025-04-16 00:50:16,907 - trading_system - ERROR - Shutdown timed out after 3 seconds
2025-04-16 00:50:16,908 - trading_system - INFO - Trading system shutdown complete
2025-04-16 00:50:22,601 - trading_system - INFO - Received signal 2. Starting graceful shutdown...
2025-04-16 00:50:26,909 - trading_system - INFO - Graceful shutdown initiated
